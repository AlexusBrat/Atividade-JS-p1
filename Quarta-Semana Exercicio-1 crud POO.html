<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 1</title>

    <script>
        addEventListener("DOMContentLoaded",()=>{
            addEventListener("change", function(){
                var opcao = document.querySelector(`input[type="radio"][name="tipo"]:checked`)
                console.log("dentro da função ADDEVENTLISTENER"+opcao["id"])
                if(opcao["id"] == "aluno"){
                    // Exibir (matricula, curso)
                    document.getElementById("label_matricula").style.visibility = "visible"
                    document.getElementById("matricula").style.visibility = "visible"
                    document.getElementById("label_curso").style.visibility = "visible"
                    document.getElementById("curso").style.visibility = "visible"
                    // Ocultar (area, lattes)
                    document.getElementById("label_area").style.visibility = "hidden"
                    document.getElementById("area").style.visibility = "hidden"
                    document.getElementById("label_lattes").style.visibility = "hidden"
                    document.getElementById("lattes").style.visibility = "hidden"
                }
                else if(opcao["id"] == "professor"){
                    // Exibir (area, matricula lattes)
                    document.getElementById("label_area").style.visibility = "visible"
                    document.getElementById("area").style.visibility = "visible"
                    document.getElementById("label_matricula").style.visibility = "visible"
                    document.getElementById("matricula").style.visibility = "visible"
                    document.getElementById("label_lattes").style.visibility = "visible"
                    document.getElementById("lattes").style.visibility = "visible"

                    // Ocultar (curso)
                    document.getElementById("label_curso").style.visibility = "hidden"
                    document.getElementById("curso").style.visibility = "hidden"
                }
            })
            
        })

        function Pessoa(){
            var nome
            var email
            var data
            var telefone
            var celular
            var matricula

            
            this.setNome = function (nome){
                this.nome = nome
            }
            this.getNome = function (){
                return this.nome
            }
            this.setEmail = function(email){
                this.email = email
            }
            this.getEmail = function(){
                return this.email
            }
            this.setData = function(data){
                this.data = data
            }
            this.getData = function(){
                return this.data
            }
            this.setTelefone = function(telefone){
                this.telefone = telefone
            }
            this.getTelefone = function(){
                return this.telefone
            }
            this.setCelular = function(celular){
                this.celular = celular
            }
            this.getCelular = function(){
                return this.celular
            }
            this.setMatricula = function(matricula){
                this.matricula = matricula
            }
            this.getMatricula = function(){
                return this.matricula
            }

        }

        function Aluno(){
            Pessoa.call(this)
            var curso

            this.setCurso = function(curso){
                this.curso = curso
            }
            this.getCurso = function(){
                return this.curso
            }
        }

        function Professor(){
            Pessoa.call(this)
            var area
            var lattes

            this.setArea = function(area){
                this.area = area
            }
            this.getArea = function(){
                return this.area
            }
            this.setLattes = function(lattes){
                this.lattes = lattes
            }
            this.getLattes = function(){
                return this.lattes
            }
        }

        function Cadastrar(){
            console.log("Função Cadastrar")
            var opcao = document.querySelector(`input[type="radio"][name="tipo"]:checked`)
            console.log("dentro da função CADASTRAR()"+ opcao["id"])

            // atributos gerais
            aluno.setNome(document.getElementById("nome").value)
            aluno.setEmail(document.getElementById("email").value)
            aluno.setData(document.getElementById("data").value)
            aluno.setTelefone(document.getElementById("telefone").value)
            aluno.setCelular(document.getElementById("celular").value)
            aluno.setMatricula(document.getElementById("matricula").value)

            if(opcao["id"] == "aluno"){
                const aluno = new Aluno()
                // atributos exclusivos
                aluno.setCurso(document.getElementById("curso").value)

                document.getElementById("output").innerHTML = "Cadastro de Aluno feito!"
                Exibir(aluno, opcao["id"])
            }
            else if(opcao["id"] == "professor"){
                const professor = new Professor()
                // atributos exclusivos
                professor.setArea = document.getElementById("area").value
                professor.setLattes = document.getElementById("lattes").value

                document.getElementById("output").innerHTML = "Cadastro de Professor feito!"
                Exibir(professor, opcao["id"])
            }
            else{
                document.getElementById("output").innerHTML = "Aviso: nenhuma das opções selecionadas (Aluno/Professor)"
            }

        }

        function Exibir(cadastro, opcao){
            console.log("dentro da função EXIBIR()"+opcao)
            var div = document.getElementById("div_exibir")
            var paragrafo = document.createElement("p")

            var nome = document.createElement("p")
            var email = document.createElement("p")
            var data = document.createElement("p")
            var telefone = document.createElement("p")
            var celular = document.createElement("p")
            var matricula = document.createElement("p")

            nome.textContent = `Nome: ${cadastro.getNome()}`
            email.textContent = `E-mail: ${cadastro.getEmail()}`
            data.textContent = `Data: ${cadastro.getData()}`
            telefone.textContent = `Telefone: ${cadastro.getTelefone()}`
            celular.textContent = `Celular: ${cadastro.getCelular()}`
            matricula.textContent = `Matricula: ${cadastro.getMatricula()}`


            if(opcao == "aluno"){
                var curso = document.createElement("p")
                curso.textContent = `Curso: ${cadastro.getCurso()}`

                console.log(nome, email, data, telefone, celular, matricula, curso)

                div.appendChild(nome)        
                div.appendChild(email)        
                div.appendChild(data)         
                div.appendChild(telefone)          
                div.appendChild(celular)              
                div.appendChild(matricula)
                div.appendChild(curso)

            }
            else if(opcao == "professor"){
                var area = document.createElement("p")
                var lattes = document.createElement("p")
                area.tetContent = `Área de atuação: ${cadastro.getArea()}`
                lattes.textContent = `Lattes: ${cadastro.getLattes()}`

                console.log(nome, email, data, telefone, celular, matricula, area, lattes)

                div.appendChild(nome)        
                div.appendChild(email)        
                div.appendChild(data)         
                div.appendChild(telefone)          
                div.appendChild(celular)              
                div.appendChild(matricula)
                div.appendChild(area)
                div.appendChild(lattes)

            }
            else{
                div.appendChild(nome)        
                div.appendChild(email)        
                div.appendChild(data)         
                div.appendChild(telefone)          
                div.appendChild(celular)              
                div.appendChild(matricula)
            }
            
        }

        function Redefinir(){
            location.reload()
        }

        var pro = new Professor();
        pro.setNome("GILSON")
        console.log("teste: "+ pro.getNome())
    </script>

    <style>
        .cadastro_radio{
            visibility: hidden;
        }
    </style>
</head>
<body>

    <h1>Exercício 1 CRUD POO</h1>
    <p><a href="Quarta-Semana.html">Voltar</a></p>
    <form action="Quarta-Semana Exercicio-1 crud POO.html" method="post">
        <label for="">Nome: </label>
        <input id="nome" type="text">
        <label for="">Email: </label>
        <input id="email" type="text">
        <label for="">Data de Nascimento: </label>
        <input id="data" type="date">
        <label for="">Telefone Fixo</label>
        <input id="telefone" type="text">
        <label for="">Telefone Celular</label>
        <input id="celular" type="text">
        <br>
        <input id="professor" type="radio" name="tipo" value="professor">
        <label for="">Professor</label>
        <input id="aluno" type="radio" name="tipo" value="aluno">
        <label for="">Aluno</label>

        <div class="cadastro_radio">
            <label id="label_matricula" for="" >Matrícula</label>
            <input id="matricula" type="text" >
            <label id="label_curso" for="" >Curso</label>
            <input id="curso" type="text" >
            <br>
            <label id="label_area" for="" >Area atuação</label>
            <input id="area" type="text" >
            <label id="label_lattes" for="" >Lattes</label>
            <input id="lattes" type="text" >
            <br>
            
        </div>
        <br><br>
        
    </form>
    <button onclick="Cadastrar()">Enviar</button>
    <button onclick="Redefinir()">Redefinir</button>
    <p id="output"></p>

    <div id="div_exibir">

    </div>

    
</body>
</html>